/***************************************************************************
 ITU-T G.711.0 ANSI-C Source Code Release 1.0

 (C) Cisco Systems Inc., Huawei, NTT and Texas Instruments Incorporated.

 Filename: tables.c
 Contents: Definitions of Read Only tables.
 Version: 1.0
 Revision Date: July 24, 2009
**************************************************************************/

#include <stddef.h>
#include "g711llc_defines.h"
#include "tables.h"

const Word8 max_prediction_orders[5] = { 4, 8, 10, 10, 12 };

/* From conversion_tables.c: *************************************************/

/* CodingScheme 0: [u|a]law_compress() / [u|a]law_expand() by ITU */
const Word16 tbl_ulaw_to_pcm[256] = {
     -8031,   -7775,   -7519,   -7263,   -7007,   -6751,   -6495,   -6239,
     -5983,   -5727,   -5471,   -5215,   -4959,   -4703,   -4447,   -4191,
     -3999,   -3871,   -3743,   -3615,   -3487,   -3359,   -3231,   -3103,
     -2975,   -2847,   -2719,   -2591,   -2463,   -2335,   -2207,   -2079,
     -1983,   -1919,   -1855,   -1791,   -1727,   -1663,   -1599,   -1535,
     -1471,   -1407,   -1343,   -1279,   -1215,   -1151,   -1087,   -1023,
      -975,    -943,    -911,    -879,    -847,    -815,    -783,    -751,
      -719,    -687,    -655,    -623,    -591,    -559,    -527,    -495,
      -471,    -455,    -439,    -423,    -407,    -391,    -375,    -359,
      -343,    -327,    -311,    -295,    -279,    -263,    -247,    -231,
      -219,    -211,    -203,    -195,    -187,    -179,    -171,    -163,
      -155,    -147,    -139,    -131,    -123,    -115,    -107,     -99,
       -93,     -89,     -85,     -81,     -77,     -73,     -69,     -65,
       -61,     -57,     -53,     -49,     -45,     -41,     -37,     -33,
       -30,     -28,     -26,     -24,     -22,     -20,     -18,     -16,
       -14,     -12,     -10,      -8,      -6,      -4,      -2,       0,
      8031,    7775,    7519,    7263,    7007,    6751,    6495,    6239,
      5983,    5727,    5471,    5215,    4959,    4703,    4447,    4191,
      3999,    3871,    3743,    3615,    3487,    3359,    3231,    3103,
      2975,    2847,    2719,    2591,    2463,    2335,    2207,    2079,
      1983,    1919,    1855,    1791,    1727,    1663,    1599,    1535,
      1471,    1407,    1343,    1279,    1215,    1151,    1087,    1023,
       975,     943,     911,     879,     847,     815,     783,     751,
       719,     687,     655,     623,     591,     559,     527,     495,
       471,     455,     439,     423,     407,     391,     375,     359,
       343,     327,     311,     295,     279,     263,     247,     231,
       219,     211,     203,     195,     187,     179,     171,     163,
       155,     147,     139,     131,     123,     115,     107,      99,
        93,      89,      85,      81,      77,      73,      69,      65,
        61,      57,      53,      49,      45,      41,      37,      33,
        30,      28,      26,      24,      22,      20,      18,      16,
        14,      12,      10,       8,       6,       4,       2,       0
};

const Word16 tbl_alaw_to_pcm[256] = {
    -688,  -656,  -752,  -720,  -560,  -528,  -624,  -592,  -944,  -912, -1008,
    -976,  -816,  -784,  -880,  -848,  -344,  -328,  -376,  -360,  -280,  -264,
    -312,  -296,  -472,  -456,  -504,  -488,  -408,  -392,  -440,  -424, -2752,
   -2624, -3008, -2880, -2240, -2112, -2496, -2368, -3776, -3648, -4032, -3904,
   -3264, -3136, -3520, -3392, -1376, -1312, -1504, -1440, -1120, -1056, -1248,
   -1184, -1888, -1824, -2016, -1952, -1632, -1568, -1760, -1696,   -43,   -41,
     -47,   -45,   -35,   -33,   -39,   -37,   -59,   -57,   -63,   -61,   -51,
     -49,   -55,   -53,   -11,    -9,   -15,   -13,    -3,    -1,    -7,    -5,
     -27,   -25,   -31,   -29,   -19,   -17,   -23,   -21,  -172,  -164,  -188,
    -180,  -140,  -132,  -156,  -148,  -236,  -228,  -252,  -244,  -204,  -196,
    -220,  -212,   -86,   -82,   -94,   -90,   -70,   -66,   -78,   -74,  -118,
    -114,  -126,  -122,  -102,   -98,  -110,  -106,   688,   656,   752,   720,
     560,   528,   624,   592,   944,   912,  1008,   976,   816,   784,   880,
     848,   344,   328,   376,   360,   280,   264,   312,   296,   472,   456,
     504,   488,   408,   392,   440,   424,  2752,  2624,  3008,  2880,  2240,
    2112,  2496,  2368,  3776,  3648,  4032,  3904,  3264,  3136,  3520,  3392,
    1376,  1312,  1504,  1440,  1120,  1056,  1248,  1184,  1888,  1824,  2016,
    1952,  1632,  1568,  1760,  1696,    43,    41,    47,    45,    35,    33,
      39,    37,    59,    57,    63,    61,    51,    49,    55,    53,    11,
       9,    15,    13,     3,     1,     7,     5,    27,    25,    31,    29,
      19,    17,    23,    21,   172,   164,   188,   180,   140,   132,   156,
     148,   236,   228,   252,   244,   204,   196,   220,   212,    86,    82,
      94,    90,    70,    66,    78,    74,   118,   114,   126,   122,   102,
      98,   110,   106
};

/* From escaped_huffman.h: ***************************************************/

const Word16 hIndex_len[4]   = { 2, 3, 3, 1 };
const Word16 hIndex_value[4] = { 1, 0, 1, 1 };
const Word8 dIndex[8]       = { 1, 2, 0, 0, 3, 3, 3, 3 };

/**********************************/
/* huffman table for encoder      */
/**********************************/
/* USAGE: To encode an input value X
 * Word16 code_length = huffman_table_len[tblNo][X];
 * Word16 code_value  = huffman_table_value[tblNo][X];
 * put_bits(code_value, code_length);
 **********************************/
const Word8 Huffman_maxCodeValue[4] = {7, 7, 7, 6};
const Word16 huffman_table_len[4][8] = {
	{ 2, 2, 2, 3, 4, 5, 6, 6 },
	{ 1, 2, 4, 4, 5, 6, 6, 4 },
	{ 1, 2, 3, 5, 5, 6, 6, 5 },
	{ 1, 2, 3, 4, 5, 6, 6, 6 }
};
const Word16 huffman_table_value[4][8] = {
	{ 1, 2, 3, 1, 1, 1, 0, 1 },
	{ 1, 1, 1, 2, 1, 0, 1, 3 },
	{ 1, 1, 1, 1, 2, 0, 1, 3 },
	{ 1, 1, 1, 1, 1, 0, 1, 1 }
};
const Word16 diff_length[3][8] = {/* *8192 */
	{ 1, 0,-1,-1,-1,-1,-1,-1 },
	{ 0, 0, 1, 0, 0, 0,-1,-3 },
	{ 0, 0, 0, 1, 0, 0,-1,-2 }
};

/**********************************/
/* huffman table for decoder      */
/**********************************/
/*USAGE: To encode an input value X
 * Word16 in = peek_bits(huffman_read); 
 * Word16 code_value  = huffman_index[tblNo][in];
 * Word16 code_length = huffman_table_len[tblNo][code_value];
 * ##Forward the pointer of inbuff here by code_length bits
 ************************************/
/*lookup tables for first 5 bits */
const Word8 huffman_index[4][64] = {/* { decoded_value }, */
/* [input_value]  decoded_value, code_length, code_value : code in binary  */
 { 6, 7, 5, 5, 4, 4, 4, 4, 3, 3, 3, 3, 3, 3, 3, 3,
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
   1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
   2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2 },
 { 5, 6, 4, 4, 2, 2, 2, 2, 3, 3, 3, 3, 7, 7, 7, 7,
   1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
 { 5, 6, 3, 3, 4, 4, 7, 7, 2, 2, 2, 2, 2, 2, 2, 2,
   1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
 { 5, 6, 4, 4, 3, 3, 3, 3, 2, 2, 2, 2, 2, 2, 2, 2,
   1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }
};

/* From parcor.c: ************************************************************/

/* reconstruction levels for 1st and 2nd coefficients: */
const Word16 pc_expand01_largeframe[128] = {
	-32723, -32634, -32545, -32457, -32368, -32279, -32191, -32102,
	-32013, -31925, -31836, -31747, -31658, -31570, -31481, -31392,
	-31304, -31215, -31126, -31038, -30949, -30860, -30712, -30442,
	-30173, -29903, -29633, -29363, -29094, -28824, -28554, -28285,
	-28015, -27745, -27476, -27206, -26936, -26666, -26397, -26127,
	-25857, -25588, -25318, -25048, -24779, -24405, -23712, -23019,
	-22326, -21633, -20940, -20247, -19554, -18861, -18168, -17475,
	-16782, -16089, -15396, -14703, -14010, -13317, -12624, -11931,
	-11238, -10545,  -9852,  -9159,  -8466,  -7773,  -7080,  -6387,
	 -5694,  -5001,  -4308,  -3615,  -2921,  -2228,  -1535,   -842,
	  -149,    543,   1236,   1929,   2622,   3315,   4008,   4701,
	  5394,   6087,   6780,   7473,   8166,   8859,   9552,  10245,
	 10938,  11631,  12324,  13017,  13710,  14403,  15096,  15789,
	 16482,  17175,  17868,  18561,  19254,  19947,  20640,  21333,
	 22026,  22719,  23412,  24105,  24798,  25491,  26184,  26877,
	 27570,  28263,  28956,  29649,  30342,  31035,  31728,  32421
};

const Word8 pc_bits_largeframe_o1[1] = { 2 };
const Word8 pc_bits_largeframe_o5[5] = { 4, 3, 3, 2, 2 };
const Word8 pc_bits_largeframe_others[12] = { 4, 3, 3, 3, 2, 2, 2, 2, 2, 2, 2, 2 };

/* lpc_order = 1 **************************************************************/

const Word8 pc_codes_largeframe_o1[8] = {
/* 0 */0x01, 0x03, 0x02, 0x01, 0x01, 0x01, 0x01, 0x00 /* canonical */
};

const Word8 pc_code_lengths_largeframe_o1[8] = {
/* 0 */ 4,  2,  2,  2,  3,  5,  6,  6
};

/* lpc_order = 5,6 ************************************************************/

const Word8 pc_codes_largeframe_o5[80] = {
/* 0 */0x03, 0x05, 0x05, 0x05, 0x05, 0x09, 0x07, 0x08, 0x07, 0x06, 0x05, 0x06, 0x05, 0x04, 0x03, 0x04, 0x03, 0x04, 0x03, 0x04, 0x03, 0x04, 0x03, 0x02, 0x03, 0x02, 0x02, 0x01, 0x01, 0x01, 0x01, 0x00, /* canonical */
/* 1 */0x01, 0x01, 0x01, 0x03, 0x02, 0x01, 0x05, 0x04, 0x03, 0x02, 0x03, 0x01, 0x01, 0x01, 0x01, 0x00, /* canonical */
/* 2 */0x00, 0x01, 0x01, 0x01, 0x01, 0x01, 0x02, 0x03, 0x02, 0x03, 0x02, 0x03, 0x01, 0x01, 0x01, 0x01, /* flipped canonical */
/* 3 */0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x00, 0x01, /* flipped canonical */
/* 4 */0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x00, 0x01  /* flipped canonical */
};

const Word8 pc_code_lengths_largeframe_o5[80] = {
/* 0 */10,  8,  7,  6,  5,  4,  3,  4,  4,  4,  4,  3,  3,  4,  4,  5,  5,  6,  6,  7,  7,  8,  8,  8,  9,  9, 10, 10, 11, 12, 13, 13,
/* 1 */ 8,  7,  6,  4,  4,  4,  3,  3,  3,  3,  2,  5,  9, 10, 11, 11,
/* 2 */12, 10,  9,  7,  5,  4,  2,  2,  3,  3,  4,  4,  6,  8, 11, 12, /* flipped */
/* 3 */ 4,  2,  1,  3,  5,  6,  7,  7, /* flipped */
/* 4 */ 6,  4,  2,  1,  3,  5,  7,  7  /* flipped */
};

/* lpc_order >= 7 *************************************************************/

const Word8 pc_codes_largeframe_others[144] = {
/* 0 */0x03, 0x05, 0x05, 0x05, 0x05, 0x09, 0x07, 0x08, 0x07, 0x06, 0x05, 0x06, 0x05, 0x04, 0x03, 0x04, 0x03, 0x04, 0x03, 0x04, 0x03, 0x04, 0x03, 0x02, 0x03, 0x02, 0x02, 0x01, 0x01, 0x01, 0x01, 0x00, /* canonical */
/* 1 */0x01, 0x01, 0x01, 0x03, 0x02, 0x01, 0x05, 0x04, 0x03, 0x02, 0x03, 0x01, 0x01, 0x01, 0x01, 0x00, /* canonical */
/* 2 */0x00, 0x01, 0x01, 0x01, 0x01, 0x01, 0x02, 0x03, 0x02, 0x03, 0x02, 0x03, 0x01, 0x01, 0x01, 0x01, /* flipped canonical */
/* 3 */0x01, 0x01, 0x01, 0x02, 0x03, 0x02, 0x02, 0x03, 0x03, 0x01, 0x01, 0x01, 0x01, 0x01, 0x00, 0x01, /* flipped canonical */
/* 4 */0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x00, 0x01, /* flipped canonical */
/* 5 */0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x00, 0x01, /* flipped canonical */
/* 6 */0x00, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, /* flipped canonical */
/* 7 */0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x00, 0x01, /* flipped canonical */
/* 8 */0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x00, 0x01, /* flipped canonical */
/* 9 */0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x00, 0x01, /* flipped canonical */
/*10 */0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x00, 0x01, /* flipped canonical */
/*11 */0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x00, 0x01 /* flipped canonical */
};

const Word8 pc_code_lengths_largeframe_others[144] = {
/* 0 */10,  8,  7,  6,  5,  4,  3,  4,  4,  4,  4,  3,  3,  4,  4,  5,  5,  6,  6,  7,  7,  8,  8,  8,  9,  9, 10, 10, 11, 12, 13, 13,
/* 1 */ 8,  7,  6,  4,  4,  4,  3,  3,  3,  3,  2,  5,  9, 10, 11, 11,
/* 2 */12, 10,  9,  7,  5,  4,  2,  2,  3,  3,  4,  4,  6,  8, 11, 12, /* flipped */
/* 3 */ 8,  6,  4,  4,  4,  3,  2,  2,  3,  5,  7,  9, 10, 11, 12, 12, /* flipped */
/* 4 */ 6,  4,  2,  1,  3,  5,  7,  7, /* flipped */
/* 5 */ 6,  4,  2,  1,  3,  5,  7,  7, /* flipped */
/* 6 */ 7,  6,  4,  2,  1,  3,  5,  7, /* flipped */
/* 7 */ 6,  5,  3,  1,  2,  4,  7,  7, /* flipped */
/* 8 */ 6,  5,  3,  1,  2,  4,  7,  7, /* flipped */
/* 9 */ 6,  5,  3,  1,  2,  4,  7,  7, /* flipped */
/*10 */ 6,  5,  3,  1,  2,  4,  7,  7, /* flipped */
/*11 */ 6,  5,  3,  1,  2,  4,  7,  7  /* flipped */
};

const Word8* const pc_bits_largeframe[13] = {
	NULL,
	pc_bits_largeframe_o1,
	NULL,
	NULL,
	NULL,
	pc_bits_largeframe_o5,
	NULL,
	NULL,
	pc_bits_largeframe_others,
	NULL,
	pc_bits_largeframe_others,
	NULL,
	pc_bits_largeframe_others
};

const Word8* const pc_codes_largeframe[13] = {
	NULL,
	pc_codes_largeframe_o1,
	NULL,
	NULL,
	NULL,
	pc_codes_largeframe_o5,
	NULL,
	NULL,
	pc_codes_largeframe_others,
	NULL,
	pc_codes_largeframe_others,
	NULL,
	pc_codes_largeframe_others
};

const Word8* const pc_code_lengths_largeframe[13] = {
	NULL,
	pc_code_lengths_largeframe_o1,
	NULL,
	NULL,
	NULL,
	pc_code_lengths_largeframe_o5,
	NULL,
	NULL,
	pc_code_lengths_largeframe_others,
	NULL,
	pc_code_lengths_largeframe_others,
	NULL,
	pc_code_lengths_largeframe_others
};

const Word8 pc_ind_smallframe_3[8]  = {0, 0, 1, 2, 3, 3, 4, 5};
const Word8 pc_ind_smallframe_4[16] = {0, 0, 1, 1, 2, 3, 4, 5, 6, 6, 7, 7, 8, 9, 10, 11};
const Word8 pc_ind_smallframe_5[32] = { 0,  0,  1,  1,  2,  2,  3,  3,  4,  5,  6,  7,  8,  9, 10, 11, 
                                       12, 12, 13, 13, 14, 14, 15, 15, 16, 17, 18, 19, 20, 21, 22, 23};
const Word8* pc_ind_smallframe[6] = {
	NULL,
	NULL,
	NULL,
	pc_ind_smallframe_3,
	pc_ind_smallframe_4,
	pc_ind_smallframe_5
};

const Word16 pc_val_smallframe_3[6]  = {8192,  20480,  28672,  -8192, -20480, -28672};
const Word16 pc_val_smallframe_4[12] = {4096,  12288,  18432,  22528,  26624,  30720,  -4096, -12288, -18432, -22528, -26624, -30720};
const Word16 pc_val_smallframe_5[24] = {2048,   6144,  10240,  14336,  17408,  19456,  21504,  23552,  25600,  27648,  29696,  31744,
                                       -2048,  -6144, -10240, -14336, -17408, -19456, -21504, -23552, -25600, -27648, -29696, -31744};

const Word16* pc_val_smallframe[6] = {
	NULL,
	NULL,
	NULL,
	pc_val_smallframe_3,
	pc_val_smallframe_4,
	pc_val_smallframe_5
};

const Word8 pc_bits_smallframe_n40_80o1[1] = { 3 };
const Word8 pc_bits_smallframe_n40o2_3[3] = { 4, 3, 3 };
const Word8 pc_bits_smallframe_n40o4[4] = { 5, 3, 3, 3 };

const Word8 pc_bits_smallframe_n80oge2[8] = { 5, 4, 4, 4, 4, 4, 4, 3 };

const Word8* pc_bits_smallframe_n40[5] = {
	NULL,
	pc_bits_smallframe_n40_80o1,
	pc_bits_smallframe_n40o2_3,
	pc_bits_smallframe_n40o2_3,
	pc_bits_smallframe_n40o4
};

const Word8* pc_bits_smallframe_n80[9] = {
	NULL,
	pc_bits_smallframe_n40_80o1,
	pc_bits_smallframe_n80oge2,
	NULL,
	NULL,
	NULL,
	pc_bits_smallframe_n80oge2,
	NULL,
	pc_bits_smallframe_n80oge2
};

const Word8** pc_bits_smallframe[2] = {
	pc_bits_smallframe_n40,
	pc_bits_smallframe_n80
};


const Word8 pc_num_smallframe_n40_80o1[1] = { 6 };
const Word8 pc_num_smallframe_n40o2_3[3] = { 12, 6, 6 };
const Word8 pc_num_smallframe_n40o4[4] = { 24, 6, 6, 6 };

const Word8 pc_num_smallframe_n80oge2[8] = { 24, 12, 12, 12, 12, 12, 12, 6 };

const Word8* pc_num_smallframe_n40[5] = {
	NULL,
	pc_num_smallframe_n40_80o1,
	pc_num_smallframe_n40o2_3,
	pc_num_smallframe_n40o2_3,
	pc_num_smallframe_n40o4
};

const Word8* pc_num_smallframe_n80[9] = {
	NULL,
	pc_num_smallframe_n40_80o1,
	pc_num_smallframe_n80oge2,
	NULL,
	NULL,
	NULL,
	pc_num_smallframe_n80oge2,
	NULL,
	pc_num_smallframe_n80oge2
};

const Word8** pc_num_smallframe[2] = {
	pc_num_smallframe_n40,
	pc_num_smallframe_n80
};

const Word8 pc_rice_smallframe_n40_80_o1_enc_dec[6] = {/*o1*/ 0, 1, 2, 3, 4, 5};

const Word8 pc_rice_smallframe_n40_o2_enc[18] = {/*o1*/ 5, 4, 3, 2, 1, 0, 6, 7, 8, 9, 10, 11, /*o2*/ 4, 3, 5, 2, 0, 1};
const Word8 pc_rice_smallframe_n40_o2_dec[18] = {/*o1*/ 5, 4, 3, 2, 1, 0, 6, 7, 8, 9, 10, 11, /*o2*/ 4, 5, 3, 1, 0, 2};

const Word8 pc_rice_smallframe_n40_o3_enc[24] = {/*o1*/ 5, 3, 4, 2, 1, 0, 6, 7, 8, 9, 10, 11, /*o2*/ 3, 4, 5, 2, 1, 0, /*o3*/ 0, 1, 4, 2, 3, 5};
const Word8 pc_rice_smallframe_n40_o3_dec[24] = {/*o1*/ 5, 4, 3, 1, 2, 0, 6, 7, 8, 9, 10, 11, /*o2*/ 5, 4, 3, 0, 1, 2, /*o3*/ 0, 1, 3, 4, 2, 5};

const Word8 pc_rice_smallframe_n40_o4_enc[42] = {/*o1*/ 11, 10, 9, 7, 8, 6, 5, 4, 2, 1, 0, 3, 12, 13, 14, 15, 16, 18, 17, 19, 20, 21, 22, 23,
                                                 /*o2*/  3,  4, 5, 0, 1, 2,   /*o3*/ 0, 2, 4, 1, 3, 5, /*o4*/  3, 4, 5, 0, 1, 2};
const Word8 pc_rice_smallframe_n40_o4_dec[42] = {/*o1*/ 10, 9, 8, 11, 7, 6, 5, 3, 4, 2, 1, 0, 12, 13, 14, 15, 16, 18, 17, 19, 20, 21, 22, 23,
                                                 /*o2*/  3, 4, 5,  0, 1, 2,   /*o3*/ 0, 3, 1, 4, 2, 5, /*o4*/  3, 4, 5, 0, 1, 2};

const Word8 pc_rice_smallframe_n80_o2_enc[36] = {/*o1*/ 11, 10, 9, 7, 8, 6, 5, 4, 3, 2, 1, 0, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23,
                                                 /*o2*/ 10,  6, 5, 7, 8, 9,11, 0, 2, 4, 3, 1};
const Word8 pc_rice_smallframe_n80_o2_dec[36] = {/*o1*/ 11, 10, 9, 8, 7, 6, 5, 3, 4, 2, 1, 0, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23,
                                                 /*o2*/  7, 11, 8,10, 9, 2, 1, 3, 4, 5, 0, 6};

const Word8 pc_rice_smallframe_n80_o6_enc[84] = {/*o1*/ 11, 10, 9, 7,  8,  6, 5, 4, 2, 1, 0, 3, 12, 13, 14, 15, 17, 18, 16, 19, 20, 21, 22, 23,
                                                 /*o2*/  6,  7, 8, 9, 10, 11, 4, 0, 2, 3, 1, 5, /*o3*/ 0, 1, 4, 5, 7, 10, 2, 3, 6, 8, 9, 11,
                                                 /*o4*/  3,  6, 8, 9, 10, 11, 1, 0, 2, 4, 5, 7, /*o5*/ 0, 2, 4, 6, 8, 10, 1, 3, 5, 7, 9, 11,
                                                 /*o6*/  2,  5, 7, 9, 11, 10, 0, 1, 3, 4, 6, 8};
const Word8 pc_rice_smallframe_n80_o6_dec[84] = {/*o1*/ 10,  9, 8, 11, 7,  6, 5, 3, 4, 2, 1, 0, 12, 13, 14, 15, 18, 16, 17, 19, 20, 21, 22, 23,
                                                 /*o2*/  7, 10, 8,  9, 6, 11, 0, 1, 2, 3, 4, 5, /*o3*/ 0, 1, 6, 7, 2, 3, 8, 4, 9, 10, 5, 11,
                                                 /*o4*/  7,  6, 8,  0, 9, 10, 1,11, 2, 3, 4, 5, /*o5*/ 0, 6, 1, 7, 2, 8, 3, 9, 4, 10, 5, 11,
                                                 /*o6*/  6,  7, 0,  8, 9, 1, 10, 2,11, 3, 5, 4};

const Word8 pc_rice_smallframe_n80_o8_enc[102] = {/*o1*/ 11, 10, 9, 7, 8, 6, 5, 3, 2, 1, 0, 4, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23,
                                                  /*o2*/  5,  7, 8, 9,10,11, 3, 0, 1, 2, 4, 6, /*o3*/ 0, 2, 4, 5, 7, 10, 1, 3, 6, 8, 9, 11,
                                                  /*o4*/  4,  6, 8, 9,10,11, 1, 0, 2, 3, 5, 7, /*o5*/ 0, 2, 4, 6, 8, 11, 1, 3, 5, 7, 9, 10,
                                                  /*o6*/  2,  5, 7, 9,10,11, 0, 1, 3, 4, 6, 8, /*o7*/ 0, 1, 4, 6, 8, 10 ,2 ,3, 5, 7, 9, 11,
                                                  /*o8*/  1,  3, 5, 0, 2, 4};
const Word8 pc_rice_smallframe_n80_o8_dec[102] = {/*o1*/ 10,  9, 8, 7,11, 6, 5, 3, 4, 2, 1, 0, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23,
                                                  /*o2*/  7,  8, 9, 6,10, 0,11, 1, 2, 3, 4, 5, /*o3*/ 0, 6, 1, 7, 2, 3, 8, 4, 9, 10, 5, 11,
                                                  /*o4*/  7,  6, 8, 9, 0,10, 1,11, 2, 3, 4, 5, /*o5*/ 0, 6, 1, 7, 2, 8, 3, 9, 4, 10, 11, 5,
                                                  /*o6*/  6,  7, 0, 8, 9, 1,10, 2,11, 3, 4, 5, /*o7*/ 0, 1, 6, 7, 2, 8, 3, 9, 4, 10, 5, 11,
                                                  /*o8*/  3,  0, 4, 1, 5, 2};

const Word8* pc_riceval_smallframe_enc_n40[5] = {
	NULL,
	pc_rice_smallframe_n40_80_o1_enc_dec,
	pc_rice_smallframe_n40_o2_enc,
	pc_rice_smallframe_n40_o3_enc,
	pc_rice_smallframe_n40_o4_enc
};

const Word8* pc_riceval_smallframe_dec_n40[5] = {
	NULL,
	pc_rice_smallframe_n40_80_o1_enc_dec,
	pc_rice_smallframe_n40_o2_dec,
	pc_rice_smallframe_n40_o3_dec,
	pc_rice_smallframe_n40_o4_dec

};

const Word8* pc_riceval_smallframe_enc_n80[9] = {
	NULL,
	pc_rice_smallframe_n40_80_o1_enc_dec,
	pc_rice_smallframe_n80_o2_enc,
	pc_rice_smallframe_n80_o6_enc,
	pc_rice_smallframe_n80_o6_enc,
	pc_rice_smallframe_n80_o6_enc,
	pc_rice_smallframe_n80_o6_enc,
	pc_rice_smallframe_n80_o8_enc,
	pc_rice_smallframe_n80_o8_enc
};

const Word8* pc_riceval_smallframe_dec_n80[9] = {
	NULL,
	pc_rice_smallframe_n40_80_o1_enc_dec,
	pc_rice_smallframe_n80_o2_dec,
	pc_rice_smallframe_n80_o6_dec,
	pc_rice_smallframe_n80_o6_dec,
	pc_rice_smallframe_n80_o6_dec,
	pc_rice_smallframe_n80_o6_dec,
	pc_rice_smallframe_n80_o8_dec,
	pc_rice_smallframe_n80_o8_dec
};

const Word8** pc_riceval_smallframe_enc[2] = {
	pc_riceval_smallframe_enc_n40,
	pc_riceval_smallframe_enc_n80
};

const Word8** pc_riceval_smallframe_dec[2] = {
	pc_riceval_smallframe_dec_n40,
	pc_riceval_smallframe_dec_n80
};


const Word8 pc_quantize_smallframe_nonzero[6] = {0, 0, 0, 4, 8, 16};

const Word8 pc_ricepara_smallframe[6]={0, 0, 0, 0, 0, 1};

const Word8 box_l4[4] = { 1, 2, 3, 4 },
            box_8[4]  = { 1, 2, 6, 8 },
            box_10[4] = { 1, 5, 8, 10 },
            box_12[4] = { 1, 5, 10, 12 };

/* From input_bit_stream.c: **************************************************/
const Word16 clz_lut[256] = {
	8, 7, 6, 6, 5, 5, 5, 5, 4, 4, 4, 4, 4, 4, 4, 4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
	2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
	1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
	1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
};

/* From G711Zdecode_function.c: **********************************************/
const Word16 from_linear_ulaw[256] = {
-128, -127, -126, -125, -124, -123, -122, -121,
-120, -119, -118, -117, -116, -115, -114, -113,
-112, -111, -110, -109, -108, -107, -106, -105,
-104, -103, -102, -101, -100,  -99,  -98,  -97,
 -96,  -95,  -94,  -93,  -92,  -91,  -90,  -89,
 -88,  -87,  -86,  -85,  -84,  -83,  -82,  -81,
 -80,  -79,  -78,  -77,  -76,  -75,  -74,  -73,
 -72,  -71,  -70,  -69,  -68,  -67,  -66,  -65,
 -64,  -63,  -62,  -61,  -60,  -59,  -58,  -57,
 -56,  -55,  -54,  -53,  -52,  -51,  -50,  -49,
 -48,  -47,  -46,  -45,  -44,  -43,  -42,  -41,
 -40,  -39,  -38,  -37,  -36,  -35,  -34,  -33,
 -32,  -31,  -30,  -29,  -28,  -27,  -26,  -25,
 -24,  -23,  -22,  -21,  -20,  -19,  -18,  -17,
 -16,  -15,  -14,  -13,  -12,  -11,  -10,   -9,
  -8,   -7,   -6,   -5,   -4,   -3,   -2,   -1,
 127,  126,  125,  124,  123,  122,  121,  120,
 119,  118,  117,  116,  115,  114,  113,  112,
 111,  110,  109,  108,  107,  106,  105,  104,
 103,  102,  101,  100,   99,   98,   97,   96,
  95,   94,   93,   92,   91,   90,   89,   88,
  87,   86,   85,   84,   83,   82,   81,   80,
  79,   78,   77,   76,   75,   74,   73,   72,
  71,   70,   69,   68,   67,   66,   65,   64,
  63,   62,   61,   60,   59,   58,   57,   56,
  55,   54,   53,   52,   51,   50,   49,   48,
  47,   46,   45,   44,   43,   42,   41,   40,
  39,   38,   37,   36,   35,   34,   33,   32,
  31,   30,   29,   28,   27,   26,   25,   24,
  23,   22,   21,   20,   19,   18,   17,   16,
  15,   14,   13,   12,   11,   10,    9,    8,
   7,    6,    5,    4,    3,    2,    1,    0
};

const Word16 from_linear_alaw[256] = {
 -86,  -85,  -88,  -87,  -82,  -81,  -84,  -83,
 -94,  -93,  -96,  -95,  -90,  -89,  -92,  -91,
 -70,  -69,  -72,  -71,  -66,  -65,  -68,  -67,
 -78,  -77,  -80,  -79,  -74,  -73,  -76,  -75,
-118, -117, -120, -119, -114, -113, -116, -115,
-126, -125, -128, -127, -122, -121, -124, -123,
-102, -101, -104, -103,  -98,  -97, -100,  -99,
-110, -109, -112, -111, -106, -105, -108, -107,
 -22,  -21,  -24,  -23,  -18,  -17,  -20,  -19,
 -30,  -29,  -32,  -31,  -26,  -25,  -28,  -27,
  -6,   -5,   -8,   -7,   -2,   -1,   -4,   -3,
 -14,  -13,  -16,  -15,  -10,   -9,  -12,  -11,
 -54,  -53,  -56,  -55,  -50,  -49,  -52,  -51,
 -62,  -61,  -64,  -63,  -58,  -57,  -60,  -59,
 -38,  -37,  -40,  -39,  -34,  -33,  -36,  -35,
 -46,  -45,  -48,  -47,  -42,  -41,  -44,  -43,
  85,   84,   87,   86,   81,   80,   83,   82,
  93,   92,   95,   94,   89,   88,   91,   90,
  69,   68,   71,   70,   65,   64,   67,   66,
  77,   76,   79,   78,   73,   72,   75,   74,
 117,  116,  119,  118,  113,  112,  115,  114,
 125,  124,  127,  126,  121,  120,  123,  122,
 101,  100,  103,  102,   97,   96,   99,   98,
 109,  108,  111,  110,  105,  104,  107,  106,
  21,   20,   23,   22,   17,   16,   19,   18,
  29,   28,   31,   30,   25,   24,   27,   26,
   5,    4,    7,    6,    1,    0,    3,    2,
  13,   12,   15,   14,    9,    8,   11,   10,
  53,   52,   55,   54,   49,   48,   51,   50,
  61,   60,   63,   62,   57,   56,   59,   58,
  37,   36,   39,   38,   33,   32,   35,   34,
  45,   44,   47,   46,   41,   40,   43,   42
};

const Word8 y_anchor_table[30] = { 1, 0, -1, -2, -3, -4, -5, -6, -7, -9, -11, -13, -15, -17, -20, -23, -26, -29, -32, -36, -40, -44, -48, -53, -58, -63, -68, -74, -80, -87 };

const Word16 G711Z_mask[9] = {
	0, 0x01, 0x03, 0x07, 0x0f, 0x1f, 0x3f, 0x7f, 0xff
};

/* From G711Zencode_function.c: **********************************************/
const Word8 tab_anchor[39]={
		-87,-87,-87,-87,-87,-87,-87,
		-80,-80,-80,-80,-80,-80,
		-74,-74,-74,-74,-74,-74,
		-68,-68,-68,-68,-68,
		-63,-63,-63,-63,-63,
		-58,-58,-58,-58,-58,
		-53,-53,-53,-53,-53
};
const Word8 tab_codepoint[39]={
		29,29,29,29,29,29,29,
		28,28,28,28,28,28,
		27,27,27,27,27,27,
		26,26,26,26,26,25,25,25,25,25,
		24,24,24,24,24,23,23,23,23,23
};
const Word8 tab_anchor1[12]={
		-29,-29,-29,-26,-26,-26,-23,-23,-23,-20,-20,-20
};
const Word8 tab_codepoint1[12]={
		17,17,17,16,16,16,15,15,15,14,14,14
};
const Word8 tab_codepoint2[5] = {0,0,1,2,2};

/* From g711llc_encoder_engine_ntt.c: ****************************************/
const Word16 cosrect_win32[32] = { 0, 79, 317, 710, 1255, 1947, 2778, 3741, 4827, 6025, 7324, 8710, 10170, 11691, 13257, 14853, 16465, 18075, 19669, 21232, 22747, 24201, 25578, 26867, 28054, 29129, 30079, 30897, 31574, 32104, 32482, 32704 };
const Word16 cosrect_win24[24] = { 0, 141, 563, 1257, 2213, 3413, 4837, 6460, 8254, 10189, 12230, 14343, 16492, 18638, 20746, 22778, 24700, 26479, 28083, 29485, 30662, 31592, 32260, 32653 };
const Word16 win40_1[4] = { 8473, 18121, 26133, 31270 };
const Word16 win40_2[4] = { 9419, 18692, 26392, 31328 };
const Word16 win80_1[8] = { 6264, 11652, 16790, 21477, 25530, 28792, 31134, 32465 };
const Word16 win80_2[8] = { 9419, 14166, 18692, 22821, 26392, 29265, 31328, 32501 };

const Word8 pm_max_rice_params[5] = { 6, 7, 10, 10, 10 };
const Word8 const_pm_zero_rice_value40[6]   = {0, 1, 2, 6, 14, 15};
const Word8 const_pm_zero_rice_len40[6]     = {2, 2, 2, 3, 4, 4};
const Word8 const_pm_zero_rice_value80[7]   = {0, 1, 2, 12, 13, 14, 15};
const Word8 const_pm_zero_rice_len80[7]     = {2, 2, 2, 4, 4, 4, 4};
const Word8 const_pm_zero_rice_value320[10] = {0, 1, 2, 12, 13, 28, 29, 30, 62, 63};
const Word8 const_pm_zero_rice_len320[10]   = {2, 2, 2, 4, 4, 5, 5, 5, 6, 6};
const Word8 *const const_pm_zero_rice_values[5] = {
	const_pm_zero_rice_value40,
	const_pm_zero_rice_value80,
	const_pm_zero_rice_value320,
	const_pm_zero_rice_value320,
	const_pm_zero_rice_value320
};
const Word8 *const const_pm_zero_rice_lengths[5] = {
	const_pm_zero_rice_len40,
	const_pm_zero_rice_len80,
	const_pm_zero_rice_len320,
	const_pm_zero_rice_len320,
	const_pm_zero_rice_len320
};

const Word8 pulse_pos_lengths[5] = { 6, 7, 8, 8, 9 };

const UWord8 p_order[13] = { 0,0,1,3,6,10,15,21,28,36,45,55,66 }; /* order*(order-1)/2 */

const UWord8 ipar_multipliers[5] = { 42, 65, 110, 140, 160 };

const Word16 ave_multiplier[3] = {/*1/2*/ 16384, /*1/3*/ 10923, /*1/4*/ 8192 };
const Word16 qave_multiplier[3] = { /*2/16*/ 4096, /*3/16*/ 6144, /*4/16*/ 8192 };

const Word8 num_range[9] = { 0,0,7,12,12,17,17,17,17 };

const Word16 diff_bit_num[5] = { 4,2,1,3,5 };

const Word16 autocorr_lag_tab[MAX_PREDICTION_ORDER_SUPPORTED+1] = {
	16384, 16378, 16360, 16331, 16290, 16238, 16175, 16100, 16014, 15918, 15811,
	15693, 15565
};

const UWord8 Rice_map[16] = { 1,3,0,2,4,5,6,7, 5,3,1,0,2,4,6,7 }; /* Tfag=0 and Tflag=1 */
const UWord8 Rice_map_inv[16] = {2,0,3,1,4,5,6,7, 3,2,4,1,5,0,6,7 };

/* From g711llc_decoder_engine_ntt.c: ****************************************/
const Word8 map_ss0[5][8] = { 
	/*         ipar[0] <= 26500:*/ { 1, 2, 3, 4, 5, 6, 7, 7 },
	/* 25600 < ipar[0] <= 30800:*/ { 2, 3, 4, 5, 6, 6, 7, 7 },
	/* LTP     ipar[0] <= 26500:*/ { 5, 5, 6, 6, 6, 6, 7, 7 },
	/* 30800 < ipar[0]         :*/ { 4, 5, 6, 6, 6, 6, 7, 7 },
	/* 30800 < ipar[0]  LTP    :*/ { 6, 6, 6, 6, 6, 6, 7, 7 }
};

const Word8 map_ss1[5][8] = { 
	/*         ipar[0] <= 26500:*/ { 1, 2, 3, 4, 5, 6, 7, 7 },
	/* 25600 < ipar[0] <= 30800:*/ { 1, 2, 3, 4, 5, 6, 7, 7 },
	/* LTP     ipar[0] <= 26500:*/ { 3, 3, 4, 4, 5, 6, 7, 7 },
	/* 30800 < ipar[0]         :*/ { 2, 3, 4, 4, 5, 6, 7, 7 },
	/* 30800 < ipar[0]  LTP    :*/ { 4, 4, 5, 5, 5, 6, 7, 7 }
};

/* From autocorr.c: **********************************************************/
const Word16 autocorr_pre_Tflag_count[3] = { 0x1ff, 0x1f, 0xf };

/* From fract_bits.c: ********************************************************/
/* Optimal number of bits per block for maximum 31-bit block size.  
The listing will eventually be for levels from 2 through 256.  Now it is just
for 2-6 levels. */
const Word8 bits_per_block[] = { 0, 8, 0, 12, 13 };

/* Optimal number of samples per block for maximum 31-bit block size.
The listing will eventually be for levels 2 through 256.  Now it is just
for 2-6 levels.
Where samples per block is zero, fractional-bit coding provides no advantage
and bit coding is used. */
const Word8 samp_per_block[] = { 0, 5, 0, 5, 5 };

/* Number of bytes per coded frame, given number of levels and framelength
index. This includes one extra byte for the header byte. */
const Word16 bytes_per_frame[5][5] = {
	{   6,  11,  21,  31,  41 },
	{   9,  17,  33,  49,  65 },
	{  11,  21,  41,  61,  81 },
	{  13,  25,  49,  73,  97 },
	{  14,  27,  53,  79, 105 }
};

const Word16 fb_type_offsets[5] = { 0, 12, 18, 22, 26 };

